"use strict";(globalThis.webpackChunkinsurance_platform_requirements=globalThis.webpackChunkinsurance_platform_requirements||[]).push([[6730],{33261(e,n,i){i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"Architecture/ADR-TEMPLATE","title":"ADR-XXX: [Decision Title]","description":"Date: YYYY-MM-DD","source":"@site/versioned_docs/version-phase-1/Architecture/ADR-TEMPLATE.md","sourceDirName":"Architecture","slug":"/Architecture/ADR-TEMPLATE","permalink":"/insurance-platform-requirements/docs/Architecture/ADR-TEMPLATE","draft":false,"unlisted":false,"editUrl":"https://github.com/Agentic-software-factory/insurance-platform-requirements/edit/main/versioned_docs/version-phase-1/Architecture/ADR-TEMPLATE.md","tags":[],"version":"phase-1","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"requirementsSidebar","previous":{"title":"Strategiska prisrekommendationer","permalink":"/insurance-platform-requirements/docs/analysis/strategic-pricing-recommendations"},"next":{"title":"PoC Plan \u2014 Motor Quote Scenario","permalink":"/insurance-platform-requirements/docs/Architecture/poc-plan-motor-quote"}}');var r=i(74848),l=i(28453);const t={sidebar_position:1},c="ADR-XXX: [Decision Title]",o={},d=[{value:"Context",id:"context",level:2},{value:"Decision",id:"decision",level:2},{value:"Alternatives Considered",id:"alternatives-considered",level:2},{value:"Alternative 1: [Name]",id:"alternative-1-name",level:3},{value:"Alternative 2: [Name]",id:"alternative-2-name",level:3},{value:"Alternative 3: [Name]",id:"alternative-3-name",level:3},{value:"Consequences",id:"consequences",level:2},{value:"Positive",id:"positive",level:3},{value:"Negative",id:"negative",level:3},{value:"Risks",id:"risks",level:3},{value:"Implementation Notes",id:"implementation-notes",level:2},{value:"References",id:"references",level:2}];function a(e){const n={em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"adr-xxx-decision-title",children:"ADR-XXX: [Decision Title]"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Date:"})," YYYY-MM-DD"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Status:"})," Proposed | Accepted | Deprecated | Superseded"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Deciders:"})," [List of people involved in decision]"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Tags:"})," [architecture, backend, frontend, infrastructure, security, compliance, etc.]"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"context",children:"Context"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"What is the issue we're trying to solve?"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"Example: Our current notification system sends all reminders via push notifications. However, some users have their phones on silent or do not check notifications regularly. We need a more reliable way to ensure critical notifications reach users."})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"What forces are at play?"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"Example:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"Cost: SMS notifications cost $0.05 per message"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"Reliability: Push notifications have 60% open rate, SMS has 95% read rate within 3 minutes"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"User preference: Some users prefer push-only, others need SMS escalation"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:'Regulatory: Compliance frameworks may require "reasonable measures" to ensure delivery'})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"Technical: SMS provider integration adds external dependency"})}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"decision",children:"Decision"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"What did we decide?"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"Example: We will implement a three-tier escalation strategy:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"In-app notification (immediate)"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"Push notification to mobile app (after 5 minutes if not acknowledged)"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"SMS fallback (after 15 minutes if still not acknowledged, opt-in only)"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"SMS will be configurable per user and per notification type. Critical notifications will always use SMS escalation."})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"alternatives-considered",children:"Alternatives Considered"}),"\n",(0,r.jsx)(n.h3,{id:"alternative-1-name",children:"Alternative 1: [Name]"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Description:"})," ",(0,r.jsx)(n.em,{children:"Example: Push notifications only, no SMS"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Pros:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"Zero additional cost"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"Simpler implementation"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Cons:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"Lower reliability for users who miss push notifications"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:'Potential compliance risk (not "reasonable measures")'})}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Why rejected:"})," ",(0,r.jsx)(n.em,{children:"Reliability concerns and compliance risk outweigh cost savings."})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"alternative-2-name",children:"Alternative 2: [Name]"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Description:"})," ",(0,r.jsx)(n.em,{children:"Example: SMS for all notifications, no escalation"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Pros:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"Highest reliability (95% read rate)"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"Simple logic (no escalation tiers)"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Cons:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"High cost ($0.05 x 4 notifications/day x 30 days = $6/user/month)"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"User annoyance (some users prefer quiet push notifications)"})}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Why rejected:"})," ",(0,r.jsx)(n.em,{children:"Cost unsustainable at scale, inflexible for user preferences."})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"alternative-3-name",children:"Alternative 3: [Name]"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Description:"})," ",(0,r.jsx)(n.em,{children:"Example: Email escalation instead of SMS"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Pros:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"Zero cost"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"Users already have email configured"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Cons:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"Users check email infrequently (days, not minutes)"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"Not suitable for time-sensitive notifications"})}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Why rejected:"})," ",(0,r.jsx)(n.em,{children:"Insufficient timeliness for the notification use case."})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"consequences",children:"Consequences"}),"\n",(0,r.jsx)(n.h3,{id:"positive",children:"Positive"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"Higher notification delivery rate (estimated +15% based on SMS read rates)"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"User choice (opt-in SMS vs push-only)"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:'Compliance-ready (demonstrates "reasonable measures" if required)'})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"Scalable (cost only incurred for users who need SMS)"})}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"negative",children:"Negative"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"Increased operational cost (estimated $1.50/user/month for SMS-enabled users)"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"External dependency on SMS provider (e.g., Twilio, AWS SNS)"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"Additional complexity in notification logic"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"SMS delivery failures need monitoring and retry logic"})}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"risks",children:"Risks"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.em,{children:"SMS provider outage impacts critical notifications"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Mitigation:"})," Health check SMS provider API, alert on failures, fallback to email"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.em,{children:"Cost overrun if many users enable SMS"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Mitigation:"})," Monitor SMS spend, budget alerts, consider bulk SMS pricing"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.em,{children:"Notification fatigue (too many channels)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Mitigation:"})," User controls for each escalation tier, smart delay tuning"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"implementation-notes",children:"Implementation Notes"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"Example:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"Use SMS provider SDK (e.g., Twilio, AWS SNS) for delivery"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"Store SMS opt-in preference in User entity"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"Store escalation config in NotificationType entity"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"Add NotificationEscalationService to handle tier logic"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"Add background job to process escalations (scheduled task every 1 minute)"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"Add monitoring dashboard for SMS delivery success rate"})}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"[Link to user research on notification preferences]"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"[Link to compliance requirements documentation]"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"[Link to SMS provider pricing documentation]"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"[Link to spike PR testing SMS integration]"})}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Template version:"})," 1.0\n",(0,r.jsx)(n.strong,{children:"Last updated:"})," 2026-02-09"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},28453(e,n,i){i.d(n,{R:()=>t,x:()=>c});var s=i(96540);const r={},l=s.createContext(r);function t(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);