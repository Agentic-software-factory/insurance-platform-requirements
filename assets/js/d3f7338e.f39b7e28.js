"use strict";(globalThis.webpackChunkinsurance_platform_requirements=globalThis.webpackChunkinsurance_platform_requirements||[]).push([[8386],{90035(e,n,s){s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>a,frontMatter:()=>d,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"lessons-learned/LESSON-TEMPLATE","title":"LESSON-XXX: [Title]","description":"Date: YYYY-MM-DD","source":"@site/versioned_docs/version-phase-1/lessons-learned/LESSON-TEMPLATE.md","sourceDirName":"lessons-learned","slug":"/lessons-learned/LESSON-TEMPLATE","permalink":"/insurance-platform-requirements/docs/lessons-learned/LESSON-TEMPLATE","draft":false,"unlisted":false,"editUrl":"https://github.com/Agentic-software-factory/insurance-platform-requirements/edit/main/versioned_docs/version-phase-1/lessons-learned/LESSON-TEMPLATE.md","tags":[],"version":"phase-1","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"requirementsSidebar","previous":{"title":"PoC Plan \u2014 Motor Quote Scenario","permalink":"/insurance-platform-requirements/docs/Architecture/poc-plan-motor-quote"},"next":{"title":"Glossary","permalink":"/insurance-platform-requirements/docs/glossary"}}');var r=s(74848),l=s(28453);const d={sidebar_position:1},t="LESSON-XXX: [Title]",c={},o=[{value:"Summary",id:"summary",level:2},{value:"Background",id:"background",level:2},{value:"What Happened",id:"what-happened",level:2},{value:"Root Cause",id:"root-cause",level:2},{value:"Lesson",id:"lesson",level:2},{value:"Actions",id:"actions",level:2},{value:"Prevention",id:"prevention",level:2},{value:"Related Lessons",id:"related-lessons",level:2},{value:"References",id:"references",level:2}];function h(e){const n={blockquote:"blockquote",code:"code",del:"del",em:"em",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"lesson-xxx-title",children:"LESSON-XXX: [Title]"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Date:"})," YYYY-MM-DD"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Type:"})," Mistake | Assumption | Discovery | Pattern"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Impact:"})," Cost | Time | Security | Quality"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Severity:"})," Critical | High | Medium | Low"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"One sentence capturing the essence of the lesson."})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"Example: A cloud messaging service with availability zones enabled cost $100/month instead of expected $5/month due to undocumented SKU pricing."})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"background",children:"Background"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Context:"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"Example: We deployed a cloud messaging service to send push notifications to mobile app users. Documentation suggested the Standard tier ($5/month) would support our expected volume (1000 users, ~4 notifications/day/user)."})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Assumptions:"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"Example:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:'We assumed "availability zones" was a free redundancy feature'})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"We assumed Standard tier pricing was flat-rate per month"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"We assumed IaC templates would warn about cost implications"})}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"what-happened",children:"What Happened"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Event description:"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"Example: After deploying to dev environment, we received a cloud cost alert showing $100/month projected spend for the messaging service alone. Investigation revealed that enabling zone redundancy in the IaC template changed the tier to a premium level with per-unit pricing."})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Timeline:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"2026-01-15 10:00 - Deployed IaC template with zone redundancy enabled"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"2026-01-15 14:00 - Received cloud cost alert email"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"2026-01-15 14:30 - Identified messaging service as source of cost spike"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"2026-01-15 15:00 - Reviewed cloud pricing documentation (found buried in FAQ)"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"2026-01-15 15:30 - Disabled zone redundancy, redeployed"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"2026-01-15 16:00 - Verified cost dropped to $5/month"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Evidence:"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"Example:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"Cloud cost management screenshot showing $100/month projection"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"IaC diff showing zone redundancy enabled vs disabled"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"Cloud pricing calculator showing Standard = $5, Zone-redundant = $100"})}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"root-cause",children:"Root Cause"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Why (Five Whys):"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"Why did we enable zone redundancy?"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"Because we wanted high availability for push notifications."})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"Why didn't we know it would increase cost 20x?"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"Because cloud documentation doesn't clearly show pricing impact of zone redundancy."})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"Why didn't we catch this in code review?"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"Because we had no checklist for reviewing cost implications of IaC changes."})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"Why didn't we test cost before deploying?"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:'Because we assumed dev environment was "safe" for experimentation.'})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"Why did we assume that?"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"Because we had no process for validating infrastructure cost before deployment."})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"True root cause:"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:'Example: Lack of cost-awareness in infrastructure-as-code review process. No checklist, no cost calculator step, no "test from empty environment" practice.'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"lesson",children:"Lesson"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"What we learned:"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"Example:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"IaC parameters can have massive cost implications (20x in this case)"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:'"Availability zones" sounds like a best-practice feature but is expensive overkill for dev/staging'})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"Cloud documentation hides cost details in FAQs and fine print"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"Dev environments should use cheapest possible tiers unless explicitly testing production-like load"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"Infrastructure changes need cost review before merge"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Key insight:"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.em,{children:["Example: For dev/staging, ",(0,r.jsx)(n.strong,{children:"explicitly set cheap tiers and disable premium features"}),'. Don\'t rely on defaults or "sounds good" feature names. For production, justify every cost increase with business value.']})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"actions",children:"Actions"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Immediate fixes:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"[x] Disabled zone redundancy in dev/staging IaC"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"[x] Verified cost dropped to $5/month"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"[x] Added cost budget alert at $50/month for dev"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Long-term changes:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsxs)(n.em,{children:["[x] Created ",(0,r.jsx)(n.code,{children:"docs/checklists/cloud-resource-creation-checklist.md"})," with cost review steps"]})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:'[x] Added IaC PR template with "Cost impact reviewed?" checkbox'})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:'[x] Updated CLAUDE.md with "Explicitly set cheap tiers for dev/staging" rule'})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"[x] Added deployment test skill to validate IaC from empty environment before commit"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Documentation updates:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsxs)(n.em,{children:["[x] Documented cloud tier cost traps in ",(0,r.jsx)(n.code,{children:"docs/INFRASTRUCTURE-BEST-PRACTICES.md"})]})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsxs)(n.em,{children:["[x] Added this lesson to ",(0,r.jsx)(n.code,{children:"docs/lessons-learned/"})]})}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"prevention",children:"Prevention"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"How to avoid in future:"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Before writing IaC templates:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Check cloud pricing calculator for resource"}),"\n",(0,r.jsx)(n.li,{children:"Identify parameters that affect cost (tier, redundancy, zones)"}),"\n",(0,r.jsx)(n.li,{children:"Set explicit values for dev/staging (cheapest) and production (justified)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Before committing IaC:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Deploy to empty test environment"}),"\n",(0,r.jsx)(n.li,{children:"Check cloud cost management for projected monthly cost"}),"\n",(0,r.jsx)(n.li,{children:"Verify cost is within budget (dev: $25/month, staging: $100/month, prod: $500/month)"}),"\n",(0,r.jsx)(n.li,{children:"Delete test environment"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Before merging PR:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:'Reviewer checks "Cost impact reviewed?" checkbox'}),"\n",(0,r.jsx)(n.li,{children:"Reviewer verifies explicit tier values for all resources"}),"\n",(0,r.jsx)(n.li,{children:"Reviewer questions any premium features (zones, redundancy, etc.) in non-prod"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Monitoring:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Cloud cost alerts at 50%, 80%, 100% of budget"}),"\n",(0,r.jsx)(n.li,{children:"Weekly cost review dashboard"}),"\n",(0,r.jsx)(n.li,{children:"Anomaly detection for unexpected spikes"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"related-lessons",children:"Related Lessons"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"Example: LESSON-002: IaC deployment workflow must test from empty environment"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"Example: LESSON-010: Cloud CLI deployment polling overhead (cost vs time tradeoff)"})}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"[Link to cloud provider pricing page]"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"[Link to IaC diff PR #123]"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"[Link to cloud cost alert screenshot]"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsxs)(n.em,{children:["[Link to ",(0,r.jsx)(n.code,{children:"docs/checklists/cloud-resource-creation-checklist.md"}),"]"]})}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Real-world case study:"})," This template was developed from a lesson where Azure Notification Hub with availability zones enabled cost 830 kr/month (",(0,r.jsx)(n.del,{children:"$100) instead of 30 kr/month ("}),"$5), discovered during development of an EU MDR Class IIb medical device."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Template version:"})," 1.0\n",(0,r.jsx)(n.strong,{children:"Last updated:"})," 2026-02-09"]})]})}function a(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},28453(e,n,s){s.d(n,{R:()=>d,x:()=>t});var i=s(96540);const r={},l=i.createContext(r);function d(e){const n=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);